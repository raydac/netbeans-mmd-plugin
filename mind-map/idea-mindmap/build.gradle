plugins {
    id "java"
    id "idea"
    id "org.jetbrains.intellij" version "0.7.3"
}

repositories {
    mavenCentral()
    mavenLocal()
}

version = project.hasProperty('mm_plugin_version') ? project.getProperty('mm_plugin_version') : "1.5.2-SNAPSHOT"

intellij {
    version 'IC-181.5684.4'
    type 'IC'
    downloadSources false
    updateSinceUntilBuild false
}

def mindMapModelVersion = project.hasProperty('mm_model_version') ? project.getProperty('mm_model_version') : "1.5.2-SNAPSHOT"
def mindMapCommonVersion = project.hasProperty('mm_ide_common_version') ? project.getProperty('mm_ide_common_version') : project.version
def mindMapPanelVersion = project.hasProperty('mm_panel_version') ? project.getProperty('mm_panel_version') : project.version
def commonsIoVersion = project.hasProperty('commonsio_version') ? project.getProperty('commonsio_version') : "2.11.0"
def commonsLangVersion = project.hasProperty('commonslang_version') ? project.getProperty('commonslang_version') : "3.12.0"
def iharderVersion = project.hasProperty('iharder_version') ? project.getProperty('iharder_version') : "2.3.9"
def jsoupVersion = project.hasProperty('jsoup_version') ? project.getProperty('jsoup_version') : "1.11.3"
def jsonVersion = project.hasProperty('json_version') ? project.getProperty('json_version') : "20180813"

sourceCompatibility = 1.8
targetCompatibility = 1.8

defaultTasks 'clean', 'build'

dependencies {
    implementation 'com.igormaznitsa:commons-version:1.0.0'
    implementation 'com.igormaznitsa:meta-annotations:1.1.3'
    implementation 'com.igormaznitsa:meta-utils:1.1.3'

    implementation 'commons-io:commons-io:' + commonsIoVersion
    implementation 'org.apache.commons:commons-lang3:' + commonsLangVersion
    implementation 'org.json:json:' + jsonVersion
    implementation 'net.iharder:base64:' + iharderVersion
    implementation 'org.jsoup:jsoup:' + jsoupVersion

    implementation 'com.igormaznitsa:mind-map-model:' + mindMapModelVersion
    implementation 'com.igormaznitsa:mind-map-ide-common:' + mindMapCommonVersion
    implementation 'com.igormaznitsa:mind-map-swing-panel:' + mindMapPanelVersion
}

sourceSets {
    main {
        java {
            srcDirs = ['src']
        }
        resources {
            srcDirs = ['resources']
        }
    }
}
